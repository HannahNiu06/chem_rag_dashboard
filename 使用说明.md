# 化工知识库 RAG 系统使用说明

## 🚀 快速启动

### 方法一：使用启动脚本（推荐）
```readme
#暂不可用
```

### 方法二：手动启动

0. 启动 MinerU 本地解析服务（用于 PDF 解析）

```bash
docker pull quincyqiang/mineru:0.3-models
docker run -itd --name=mineru_server --gpus=all -p 8888:8000 quincyqiang/mineru:0.3-models
```

说明：
- 若无 GPU，可移除 `--gpus=all` 参数。
- 后端将把 PDF 文件以 multipart/form-data 上传至 `http://localhost:8888/pdf_parse?parse_method=auto&is_json_md_dump=true&output_dir=output`。
- 如需更换服务地址，设置环境变量 `LOCAL_PDF_PARSE_URL`。

1. **启动后端服务**
```bash
cd backend
pip3 install --trusted-host pypi.org --trusted-host pypi.python.org --trusted-host files.pythonhosted.org -r requirements.txt
python3 app.py
```

2. **启动前端服务**
```bash
cd frontend
npm install
npm start
```

## 📱 访问应用

- **前端界面**: http://localhost:3000
- **后端API**: http://localhost:5001

## 🎯 功能特性

### 📊 Dashboard 仪表板
- 系统总览和统计数据
- 检索调用趋势图表
- 知识类型分布标签云
- 近期QA调用记录

### 📁 文档管理
- 文件上传（支持拖拽）
- 文档列表展示
- 文件类型统计
- 文档筛选和搜索

### 🤖 QA测试
- 智能问答界面
- 实时聊天功能
- 答案分析
- 反馈评分系统
- 来源追踪

### ⚙️ 文档解析
- 文档分段预览
- 标签编辑和管理
- 分段展开/折叠
- 标签统计

## 🔧 技术栈

### 前端
- React 19
- React Router
- Chart.js
- Axios
- CSS3

### 后端
- Flask
- Flask-CORS
- Python 3.8+

## 📝 使用示例

### 1. 查看仪表板
访问 http://localhost:3000 查看系统总览

### 2. 上传文档
- 进入"文档管理"页面
- 拖拽或选择文件上传
- 查看上传的文档列表

### 3. 智能问答
- 进入"QA测试"页面
- 输入化工相关问题
- 查看AI回答和来源

### 4. 文档解析
- 进入"文档解析"页面
- 查看文档分段
- 编辑标签和内容

## 🛠️ 故障排除

### 端口冲突
如果端口被占用，可以修改：
- 后端端口：编辑 `backend/app.py` 中的端口号
- 前端端口：修改 `frontend/src/services/api.js` 中的API地址

### 依赖安装失败
- 后端：使用 `--trusted-host` 参数
- 前端：清除缓存 `npm cache clean --force`

### 服务无法启动
- 检查Python和Node.js是否正确安装
- 确认端口未被占用
- 查看控制台错误信息

## 📞 技术支持

如有问题，请检查：
1. 网络连接是否正常
2. 端口是否被占用
3. 依赖是否正确安装
4. 浏览器控制台是否有错误

---

**享受使用化工知识库 RAG 系统！** 🎉 